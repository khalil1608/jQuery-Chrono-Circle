!function(e){e.fn.chronometer=function(r){var t,n={width:100,days:0,hours:0,minutes:0,seconds:0,direction:"right",callback:null,"function":null,borderColorActive:"#A2ECFB",borderColorInactive:"#39B4CC",backgroundColor:"#f9f9f9",audio:null},o=e.extend(n,r),i=360,a=null,c=null,d={text:null},u=function(e,r){return new Date(e.setDate(e.getDate()+r))},l=function(e,r){return new Date(e.setHours(e.getHours()+r))},s=function(e,r){return new Date(e.getTime()+6e4*r)},h=function(e,r){return e.setSeconds(e.getSeconds()+r)},f=new Date,g=u(f,o.days);g=l(g,o.hours),g=s(g,o.minutes),g=h(g,o.seconds);var m=null!=o.audio?o.audio[0]:null,v=function(e,r){var t={},n=r-e;return n=Math.floor(n/1e3),t.sec=n%60,n=Math.floor((n-t.sec)/60),t.min=n%60,n=Math.floor((n-t.min)/60),t.hour=n%24,n=Math.floor((n-t.hour)/24),t.day=n,t},b=function(e,r){r=r||null;var t=0;return e>0&&("day"==r?(e%=60,t=360*e/60):"hour"==r?(e%=60,t=360*e/60):"min"==r?(e%=60,t=360*e/60):t=360*e/60),Math.round(t)},p=function(){c=new Audio(m.src),c.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),c.play()},w=function(e){e++,0>e&&(e=0),e>i&&(e=i),t=0,e>0&&(t=100*e/360),a.css(180>=e?{"background-image":"linear-gradient("+(90+e)+"deg, transparent 50%, "+o.borderColorActive+" 50%),linear-gradient(90deg, "+o.borderColorActive+" 50%, transparent 50%)",width:o.width+"px",height:o.width+"px"}:{"background-color":o.borderColorInactive,"background-image":"linear-gradient("+(e-90)+"deg, transparent 50%, "+o.borderColorInactive+" 50%),linear-gradient(90deg, "+o.borderColorActive+" 50%, transparent 50%)",width:o.width+"px",height:o.width+"px"})},x=function(){var e=new Date;e>g&&(e=g),null!=m&&Math.round((g-e.getTime())/1e3)==m.startTimeAudio&&p();var r=v(e,g),t=0;if(r.day>0){var n=r.hour>=10?r.hour:"0"+r.hour,i=r.min>=10?r.min:"0"+r.min;d.text.html(r.day+"d<sup>"+n+"h"+i+"</sup>");var a=24*r.day+r.hour+r.min+r.sec;t=b(a,"day")}else if(r.hour>0){var c=60*r.hour+r.min;d.text.html(c+"'");var a=60*r.hour+r.min+r.sec;t=b(a,"hour")}else if(r.min>0){d.text.html(r.min+"'");var a=60*r.min+r.sec;t=b(a,"min")}else d.text.text(r.sec+'"'),t=b(r.sec,"secs");return t="right"==o.direction?t:360-t,w(t),r};return this.each(function(){var r=e(this);a=r.find(".active-border"),circle=r.find(".circle"),d={text:r.find(".prec")},a.css({"background-color":o.borderColorInactive}),r.css({width:o.width-10+"px",height:o.width-10+"px",border:o.border_size+" solid "+o.border_color}),circle.css({width:o.width-10+"px",height:o.width-10+"px","background-color":o.backgroundColor}),d.text.css("top",(o.width-10)/3+"px"),x();var t=setInterval(function(){var e=x();0==e.day&&0==e.hour&&0==e.min&&0==e.sec&&(clearInterval(t),console.log(c),c.remove(),c.stop(),c=null,o.callback&&o.callback())},1e3);o.function&&o.function()}),this}}(jQuery);
