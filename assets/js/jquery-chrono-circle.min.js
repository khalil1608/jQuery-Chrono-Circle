!function(e){e.fn.chronometer=function(r){var t,n={width:100,days:0,hours:0,minutes:0,seconds:0,direction:"right",callback:null,"function":null,borderColorActive:"#A2ECFB",borderColorInactive:"#39B4CC",backgroundColor:"#f9f9f9"},i=e.extend(n,r),o=360,a=null,c={text:null},d=function(e,r){return new Date(e.setDate(e.getDate()+r))},u=function(e,r){return new Date(e.setHours(e.getHours()+r))},s=function(e,r){return new Date(e.getTime()+6e4*r)},h=function(e,r){return e.setSeconds(e.getSeconds()+r)},l=new Date,f=d(l,i.days);f=u(f,i.hours),f=s(f,i.minutes),f=h(f,i.seconds);var m=function(e,r){var t={},n=r-e;return n=Math.floor(n/1e3),t.sec=n%60,n=Math.floor((n-t.sec)/60),t.min=n%60,n=Math.floor((n-t.min)/60),t.hour=n%24,n=Math.floor((n-t.hour)/24),t.day=n,t},g=function(e,r){r=r||null;var t=0;return e>0&&("day"==r?(e%=60,t=360*e/60):"hour"==r?(e%=60,t=360*e/60):"min"==r?(e%=60,t=360*e/60):t=360*e/60),Math.round(t)},v=function(e){e++,0>e&&(e=0),e>o&&(e=o),t=0,e>0&&(t=100*e/360),a.css(180>=e?{"background-image":"linear-gradient("+(90+e)+"deg, transparent 50%, "+i.borderColorActive+" 50%),linear-gradient(90deg, "+i.borderColorActive+" 50%, transparent 50%)",width:i.width+"px",height:i.width+"px"}:{"background-image":"linear-gradient("+(e-90)+"deg, transparent 50%, "+i.borderColorInactive+" 50%),linear-gradient(90deg, "+i.borderColorActive+" 50%, transparent 50%)",width:i.width+"px",height:i.width+"px"})},p=function(){var e=new Date;e>f&&(e=f);var r=m(e,f),t=0;if(r.day>0){var n=r.hour>=10?r.hour:"0"+r.hour,o=r.min>=10?r.min:"0"+r.min;c.text.html(r.day+"d<sup>"+n+"h"+o+"</sup>");var a=24*r.day+r.hour+r.min+r.sec;t=g(a,"day")}else if(r.hour>0){var o=r.min>=10?r.min:"0"+r.min;c.text.html(r.hour+"h<sup>"+o+"</sup>");var a=60*r.hour+r.min+r.sec;t=g(a,"hour")}else if(r.min>0){c.text.html(r.min+"<sup> m</sup>");var a=60*r.min+r.sec;t=g(a,"min")}else c.text.text(r.sec+" s"),t=g(r.sec,"secs");return t="right"==i.direction?t:360-t,v(t),r};return this.each(function(){var r=e(this);a=r.find(".active-border"),circle=r.find(".circle"),c={text:r.find(".prec")},r.css({width:i.width-10+"px",height:i.width-10+"px",border:i.border_size+" solid "+i.border_color}),circle.css({width:i.width-10+"px",height:i.width-10+"px"}),circle.find(".prec").css("top",(i.width-10)/3+"px"),p();var t=setInterval(function(){var e=p();0==e.day&&0==e.hour&&0==e.min&&0==e.sec&&(clearInterval(t),i.callback&&i.callback())},1e3);i.function&&i.function()}),this}}(jQuery);
