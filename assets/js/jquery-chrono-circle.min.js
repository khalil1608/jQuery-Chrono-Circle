!function(e){e.fn.chronometer=function(r){var n,t={width:"100px",height:"100px",days:0,hours:0,minutes:0,seconds:0,callback:null,borderColorActive:"#A2ECFB",borderColorInactive:"#39B4CC",backgroundColor:"#f9f9f9"},o=e.extend(t,r),a=360,i=null,u={text:null},s=function(e,r){return new Date(e.setDate(e.getDate()+r))},c=function(e,r){return new Date(e.setHours(e.getHours()+r))},d=function(e,r){return new Date(e.getTime()+6e4*r)},l=function(e,r){return e.setSeconds(e.getSeconds()+r)},h=new Date,m=s(h,o.days);m=c(m,o.hours),m=d(m,o.minutes),m=l(m,o.seconds);var f=function(e,r){var n={},t=r-e;return t=Math.floor(t/1e3),n.sec=t%60,t=Math.floor((t-n.sec)/60),n.min=t%60,t=Math.floor((t-n.min)/60),n.hour=t%24,t=Math.floor((t-n.hour)/24),n.day=t,n},v=function(e,r){r=r||null;var n=0;return e>0&&("day"==r?(e%=60,n=360*e/60):"hour"==r?(e%=60,n=360*e/60):"min"==r?(e%=60,n=360*e/60):n=360*e/60),Math.round(n)},g=function(e){e++,0>e&&(e=0),e>a&&(e=a),n=0,e>0&&(n=100*e/360),i.css(180>=e?{"background-image":"linear-gradient("+(90+e)+"deg, transparent 50%, "+o.borderColorActive+" 50%),linear-gradient(90deg, "+o.borderColorActive+" 50%, transparent 50%)"}:{"background-image":"linear-gradient("+(e-90)+"deg, transparent 50%, "+o.borderColorInactive+" 50%),linear-gradient(90deg, "+o.borderColorActive+" 50%, transparent 50%)"})},b=function(){var e=new Date;e>m&&(e=m);var r=f(e,m),n=0;if(r.day>0){var t=r.hour>=10?r.hour:"0"+r.hour,o=r.min>=10?r.min:"0"+r.min;u.text.html(r.day+"d<sup>"+t+"h"+o+"</sup>");var a=24*r.day+r.hour+r.min+r.sec;n=v(a,"day")}else if(r.hour>0){var o=r.min>=10?r.min:"0"+r.min;u.text.html(r.hour+"h<sup>"+o+"</sup>");var a=60*r.hour+r.min+r.sec;n=v(a,"hour")}else if(r.min>0){u.text.html(r.min+"<sup> m</sup>");var a=60*r.min+r.sec;n=v(a,"min")}else u.text.text(r.sec+" s"),n=v(r.sec,"secs");return n=360-n,g(n),r};return this.each(function(){var r=e(this);i=r.find(".active-border"),u={text:r.find(".prec")},r.css({width:o.width,height:o.height,border:o.border_size+" solid "+o.border_color}),b();var n=setInterval(function(){var e=b();0==e.day&&0==e.hour&&0==e.min&&0==e.sec&&(clearInterval(n),o.callback&&o.callback())},1e3)}),this}}(jQuery);
