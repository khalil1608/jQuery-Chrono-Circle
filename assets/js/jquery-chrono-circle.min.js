!function(r){r.fn.chronometer=function(e){var t,n={width:100,days:0,hours:0,minutes:0,seconds:0,direction:"right",callback:null,"function":null,borderColorActive:"#A2ECFB",borderColorInactive:"#39B4CC",backgroundColor:"#f9f9f9"},i=r.extend(n,e),o=360,a=null,c={text:null},d=function(r,e){return new Date(r.setDate(r.getDate()+e))},u=function(r,e){return new Date(r.setHours(r.getHours()+e))},s=function(r,e){return new Date(r.getTime()+6e4*e)},h=function(r,e){return r.setSeconds(r.getSeconds()+e)},l=new Date,f=d(l,i.days);f=u(f,i.hours),f=s(f,i.minutes),f=h(f,i.seconds);var m=function(r,e){var t={},n=e-r;return n=Math.floor(n/1e3),t.sec=n%60,n=Math.floor((n-t.sec)/60),t.min=n%60,n=Math.floor((n-t.min)/60),t.hour=n%24,n=Math.floor((n-t.hour)/24),t.day=n,t},g=function(r,e){e=e||null;var t=0;return r>0&&("day"==e?(r%=60,t=360*r/60):"hour"==e?(r%=60,t=360*r/60):"min"==e?(r%=60,t=360*r/60):t=360*r/60),Math.round(t)},v=function(r){r++,0>r&&(r=0),r>o&&(r=o),t=0,r>0&&(t=100*r/360),a.css(180>=r?{"background-image":"linear-gradient("+(90+r)+"deg, transparent 50%, "+i.borderColorActive+" 50%),linear-gradient(90deg, "+i.borderColorActive+" 50%, transparent 50%)",width:i.width+"px",height:i.width+"px"}:{"background-color":i.borderColorInactive,"background-image":"linear-gradient("+(r-90)+"deg, transparent 50%, "+i.borderColorInactive+" 50%),linear-gradient(90deg, "+i.borderColorActive+" 50%, transparent 50%)",width:i.width+"px",height:i.width+"px"})},p=function(){var r=new Date;r>f&&(r=f);var e=m(r,f),t=0;if(e.day>0){var n=e.hour>=10?e.hour:"0"+e.hour,o=e.min>=10?e.min:"0"+e.min;c.text.html(e.day+"d<sup>"+n+"h"+o+"</sup>");var a=24*e.day+e.hour+e.min+e.sec;t=g(a,"day")}else if(e.hour>0){var o=e.min>=10?e.min:"0"+e.min;c.text.html(e.hour+"h<sup>"+o+"</sup>");var a=60*e.hour+e.min+e.sec;t=g(a,"hour")}else if(e.min>0){c.text.html(e.min+"<sup> m</sup>");var a=60*e.min+e.sec;t=g(a,"min")}else c.text.text(e.sec+" s"),t=g(e.sec,"secs");return t="right"==i.direction?t:360-t,v(t),e};return this.each(function(){var e=r(this);a=e.find(".active-border"),circle=e.find(".circle"),c={text:e.find(".prec")},a.css({"background-color":i.borderColorInactive}),e.css({width:i.width-10+"px",height:i.width-10+"px",border:i.border_size+" solid "+i.border_color}),circle.css({width:i.width-10+"px",height:i.width-10+"px"}),circle.find(".prec").css("top",(i.width-10)/3+"px"),p();var t=setInterval(function(){var r=p();0==r.day&&0==r.hour&&0==r.min&&0==r.sec&&(clearInterval(t),i.callback&&i.callback())},1e3);i.function&&i.function()}),this}}(jQuery);
